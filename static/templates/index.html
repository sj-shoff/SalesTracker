<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SalesTracker - –£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üìä SalesTracker</h1>
            <p>–£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="items">–ó–∞–ø–∏—Å–∏</button>
            <button class="tab-btn" data-tab="analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
            <button class="tab-btn" data-tab="add">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
        </div>

        <div class="tab-content active" id="items-tab">
            <div class="toolbar">
                <div class="filter-group">
                    <label>
                        –¢–∏–ø:
                        <select id="filter-type">
                            <option value="">–í—Å–µ</option>
                            <option value="income">–î–æ—Ö–æ–¥</option>
                            <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        </select>
                    </label>
                    <label>
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è:
                        <input type="text" id="filter-category" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
                    </label>
                    <label>
                        –î–∞—Ç–∞ –æ—Ç:
                        <input type="date" id="filter-date-from">
                    </label>
                    <label>
                        –î–∞—Ç–∞ –¥–æ:
                        <input type="date" id="filter-date-to">
                    </label>
                    <button id="apply-filters" class="btn btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    <button id="reset-filters" class="btn btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                <div class="pagination-info">
                    <span id="total-count">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 0</span>
                    <div class="pagination-controls">
                        <button id="prev-page" class="btn btn-secondary" disabled>‚Üê –ü—Ä–µ–¥.</button>
                        <span id="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                        <button id="next-page" class="btn btn-secondary">–°–ª–µ–¥. ‚Üí</button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table id="items-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>–¢–∏–ø</th>
                            <th>–°—É–º–º–∞ (‚ÇΩ)</th>
                            <th>–î–∞—Ç–∞</th>
                            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="items-body">
                        <tr>
                            <td colspan="7" class="no-data">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–∏—Å–µ–π...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="tab-content" id="analytics-tab">
            <div class="analytics-controls">
                <label>
                    –ü–µ—Ä–∏–æ–¥ —Å:
                    <input type="datetime-local" id="analytics-from">
                </label>
                <label>
                    –ø–æ:
                    <input type="datetime-local" id="analytics-to">
                </label>
                <button id="get-analytics" class="btn btn-primary">–ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É</button>
                <button id="export-analytics-csv" class="btn btn-success">üì• –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞</button>
            </div>
            
            <!-- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏: –î–æ—Ö–æ–¥—ã –∏ –†–∞—Å—Ö–æ–¥—ã -->
            <div class="analytics-section">
                <h2 style="margin-bottom: 20px; color: #555;">üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º</h2>
                
                <div class="analytics-cards-group">
                    <!-- –î–æ—Ö–æ–¥—ã -->
                    <div class="analytics-group">
                        <h3 style="color: #4caf50; margin-bottom: 15px;">üì• –î–æ—Ö–æ–¥—ã</h3>
                        <div class="analytics-cards income-cards">
                            <div class="card income-card">
                                <h3>–°—É–º–º–∞</h3>
                                <div class="card-value" id="analytics-income-sum">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card income-card">
                                <h3>–°—Ä–µ–¥–Ω–µ–µ</h3>
                                <div class="card-value" id="analytics-income-avg">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card income-card">
                                <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</h3>
                                <div class="card-value" id="analytics-income-count">0</div>
                            </div>
                            <div class="card income-card">
                                <h3>–ú–µ–¥–∏–∞–Ω–∞</h3>
                                <div class="card-value" id="analytics-income-median">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card income-card">
                                <h3>90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</h3>
                                <div class="card-value" id="analytics-income-percent90">0.00 ‚ÇΩ</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –†–∞—Å—Ö–æ–¥—ã -->
                    <div class="analytics-group">
                        <h3 style="color: #f44336; margin-bottom: 15px;">üì§ –†–∞—Å—Ö–æ–¥—ã</h3>
                        <div class="analytics-cards expense-cards">
                            <div class="card expense-card">
                                <h3>–°—É–º–º–∞</h3>
                                <div class="card-value" id="analytics-expense-sum">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card expense-card">
                                <h3>–°—Ä–µ–¥–Ω–µ–µ</h3>
                                <div class="card-value" id="analytics-expense-avg">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card expense-card">
                                <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</h3>
                                <div class="card-value" id="analytics-expense-count">0</div>
                            </div>
                            <div class="card expense-card">
                                <h3>–ú–µ–¥–∏–∞–Ω–∞</h3>
                                <div class="card-value" id="analytics-expense-median">0.00 ‚ÇΩ</div>
                            </div>
                            <div class="card expense-card">
                                <h3>90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</h3>
                                <div class="card-value" id="analytics-expense-percent90">0.00 ‚ÇΩ</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="analytics-details">
                <h3 style="margin-bottom: 15px; color: #555;">üìã –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π</h3>
                <div class="table-container">
                    <table id="analytics-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–¢–∏–ø</th>
                                <th>–°—É–º–º–∞ (‚ÇΩ)</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="analytics-body">
                            <tr>
                                <td colspan="5" class="no-data">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="tab-content" id="add-tab">
            <div class="form-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #555;">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</h2>
                <form id="add-item-form">
                    <div class="form-group">
                        <label for="item-type">–¢–∏–ø *</label>
                        <select id="item-type" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            <option value="income">–î–æ—Ö–æ–¥</option>
                            <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="item-amount">–°—É–º–º–∞ *</label>
                        <input type="number" id="item-amount" step="0.01" min="0.01" required placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É">
                    </div>
                    <div class="form-group">
                        <label for="item-date">–î–∞—Ç–∞ *</label>
                        <input type="datetime-local" id="item-date" required>
                    </div>
                    <div class="form-group">
                        <label for="item-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <input type="text" id="item-category" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–¥—É–∫—Ç—ã, –ó–∞—Ä–ø–ª–∞—Ç–∞, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">
                    </div>
                    <div class="form-group">
                        <label for="item-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="item-description" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø–∏—Å–∏"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
                        <button type="button" id="clear-form" class="btn btn-secondary">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h2>
                <form id="edit-item-form">
                    <input type="hidden" id="edit-item-id">
                    <div class="form-group">
                        <label for="edit-item-type">–¢–∏–ø *</label>
                        <select id="edit-item-type" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            <option value="income">–î–æ—Ö–æ–¥</option>
                            <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-item-amount">–°—É–º–º–∞ *</label>
                        <input type="number" id="edit-item-amount" step="0.01" min="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-item-date">–î–∞—Ç–∞ *</label>
                        <input type="datetime-local" id="edit-item-date" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-item-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <input type="text" id="edit-item-category">
                    </div>
                    <div class="form-group">
                        <label for="edit-item-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="edit-item-description"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <button type="button" id="delete-item-btn" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>